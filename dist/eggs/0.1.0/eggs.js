/* 
Copyright 2014, QuickJS v1.0dev 
MIT Licensed
build time: 2014-12-08 11:20:42 
*/
define("gallery/eggs/0.1.0/eggs",["modal"],function(i,t,e){i.async("./index.css"),i("modal")($);var n=$("body"),s={},a={top:120,triggerId:"act-trigger",targetId:"act-pannel",closeButton:".act_close"};s.init=function(i){var t=this;t.fn.render(i,function(){t.fn.createTrigger(i),i=$.extend(a,i),$("#"+i.triggerId).qsModal(i).trigger("click")}),t.fn.tips.init()},s.fn={},s.fn.createTrigger=function(i){n.append('<a href="#'+i.targetId+'" id="'+i.triggerId+'" style="display: none;"></a>')},s.fn.render=function(i,t){var e=this;n.append(e.getTpl(i.targetId)),e.script(i),t&&t.call()},s.fn.getTpl=function(i){return['<div class="golden_egg" id="'+i+'">','<span class="act_golden_close"></span>','<ul class="golden_ul">','<p class="hammer pic pic_5" id="hammer">锤子</p>','<p class="resultTip" id="resultTip"><b id="result"></b></p>','<li class="golden_1"><span class="pic pic_1"></span></li>','<li class="golden_2 center"><span class="pic pic_1"></span></li>','<li class="golden_3"><span class="pic pic_1"></span></li>',"</ul>","</div>"].join("")},s.fn.script=function(i){function t(t){var n=t;$.post(i.url+"bs/prize/check/hitegg",{id:i.orderId},function(t){return n.find("span.pic").hasClass("pic_1")?($(".golden_ul li").unbind("click").unbind("mouseover"),$(".golden_egg").css({cursor:"none"}),$(".hammer").show().css({top:n.position().top-85,left:n.position().left+185}),$(".hammer").animate({top:n.position().top-25,left:n.position().left+125},60,function(){var s="pic_3";0==t.state&&(s="pic_2"),n.find("span.pic").attr("class","pic "+s),$(".resultTip").css({display:"block",top:"100px",left:n.position().left+45,opacity:0}).animate({top:"50px",opacity:1},300,function(){0==t.state?(i.money=t.prize,e.tips.ok(i)):e.tips.no(i)}),$(".hammer").hide(),$(".golden_egg").css({cursor:"url("+i.staticUrl+"eggs/0.1.0/img/hit.ico),auto"})}),void 0):(alert("蛋都碎了，别砸了！刷新再来."),!1)},"json")}var e=this;$(".golden_egg").css({cursor:"url("+i.staticUrl+"eggs/0.1.0/img/hit.ico),auto"}),$(".golden_ul li").click(function(){t($(this))}),$(".golden_ul li").hover(function(){var i=$(this),t=i.position().left+$(this).width()-50,e=i.position().top-50;$("#hammer").css({left:t,top:e})}).on("mouseover",function(){var i=$(this),t=272;i.hasClass("center")&&(t=305),t-=25,i.animate({top:t},100,function(){i.animate({top:t+25},100)})}),$(i.closeButton).on("click",function(){$(".layer-close").trigger("click")})},s.fn.tips={},s.fn.tips.init=function(){n.append('<div id="act-tips-pannel" style="display: none;"></div>'),n.append('<a href="#act-tips-pannel" id="act-tips-trigger" style="display: none;"></a>')},s.fn.tips.ok=function(i){var t=this;$("#act-tips-pannel").empty(),$("#act-tips-pannel").append(t.getTpl("ok",i));var e=$("#act-tips-trigger");e.qsModal({top:250,lock:!0,closeButton:".layer-close"}).trigger("click")},s.fn.tips.no=function(i){var t=this;$("#act-tips-pannel").empty(),$("#act-tips-pannel").append(t.getTpl("no"));var e=$("#act-tips-trigger");e.qsModal({top:250,lock:!0,closeButton:".layer-close"}).trigger("click"),$(".layer-no .layer-link").on("click",function(){$(".layer-no .layer-close").trigger("click"),$(i.closeButton).trigger("click")})},s.fn.tips.getTpl=function(i,t){switch(i){case"ok":return['<div id="ks-content-ks-component" class="ks-overlay-content">','	<div class="wrapper">','	<div class="layer-ok layer-ie-ok">','<i class="layer-money" target="_blank">'+t.money+"</i>",'<i class="layer-close"></i>','		<a href="'+t.url+"act/"+t.orderId+'/award.html" class="layer-link" target="_blank">填写领奖信息</a>',"	</div>","</div>","</div>"].join("");case"no":return['<div id="ks-content-ks-component" class="ks-overlay-content">','	<div class="wrapper">','	<div class="layer-no layer-ie-no">','		<i class="layer-close"></i>','		<a href="javascript:void(0);" class="layer-link">下次再来</a>',"	</div>","</div>","</div>"].join("")}},e.exports=s});