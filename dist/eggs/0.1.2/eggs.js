/* 
Copyright 2014, QuickJS v1.0dev 
MIT Licensed
build time: 2014-12-22 18:13:16 
*/
define("gallery/eggs/0.1.2/eggs",["gallery/core/0.1.1/core"],function(i,n,t){i.async("./index.css");var o=i("gallery/core/0.1.1/core"),e=o.msg,l=o.repairUrl;$("body");var c=$(".act-pannel"),s={};s.init=function(i){var n=this;n.fn.render(i,function(){}),i.notfrist||n.fn.page.init()},s.fn={},s.fn.render=function(i,n){var t=this,o=$("#"+i.targetId);o.length>0&&o.remove(),c.append(t.getTpl(i.targetId)),t.script(i),n&&n.call()},s.fn.getTpl=function(i){return['<div class="golden_egg" id="'+i+'">','<ul class="golden_ul">','<p class="hammer pic pic_5" id="hammer">锤子</p>','<p class="resultTip" id="resultTip"><b id="result"></b></p>','<li class="golden_1"><span class="pic pic_1"></span></li>','<li class="golden_2 center"><span class="pic pic_1"></span></li>','<li class="golden_3"><span class="pic pic_1"></span></li>',"</ul>","</div>"].join("")},s.fn.script=function(i){function n(n){var o=n;$.post(l+"/bs/prize/check/hitegg",null,function(n){$(".golden_ul li").unbind("click").unbind("mouseover"),$(".golden_egg").css({cursor:"none"}),$(".hammer").show().css({top:o.position().top-85,left:o.position().left+185}),$(".hammer").animate({top:o.position().top-25,left:o.position().left+125},60,function(){var e="pic_3";0==n.state&&(e="pic_2"),o.find("span.pic").attr("class","pic "+e),$(".resultTip").css({display:"block",top:"100px",left:o.position().left+45,opacity:0}).animate({top:"50px",opacity:1},300,function(){i.hitCallback(--i.count),0==n.state?(i.money=n.prize,i.orderId=n.id,t.tips.ok(i)):t.tips.no(i)}),$(".hammer").hide(),$(".golden_egg").css({cursor:"url("+i.galleryUrl+"/eggs/0.1.2/img/hit.ico),auto"})})},"json")}var t=this;if(i.login&&i.count>0)$(".golden_egg").css({cursor:"url("+i.galleryUrl+"/eggs/0.1.2/img/hit.ico),auto"}),$(".golden_ul li").click(function(){n($(this))});else{$(".golden_egg").css({cursor:"pointer"});var o={content:"你没有用来砸蛋的幸运锤	:-(",ok:!1,fixed:!0,clock:!0,cancelValue:"我知道了",button:[{value:"如何获取幸运锤",autofocus:!0,callback:function(){e.Diy({id:"how",fixed:!0,clock:!0,title:"如何参与本活动：",content:"<ul><li><b>通过汽配铺网站平台成功消费，即可参与活动：</b></li><li>1.单笔成功消费200元以上可有机会获得砸金蛋的幸运锤一个。</li><li>2.利用幸运锤在此页面参与砸蛋活动。</li><li>3.一个幸运锤只能参与一次砸蛋活动。</li><li>4.幸运锤的幸运度与单笔成交金额成正比，与砸蛋中奖金额成正比。</li></ul>",ok:!1,cancel:!1,button:[{value:"我已了解如何参与本活动",autofocus:!0}]})}}]};i.login||(o={content:"登录查看可用幸运锤数量",ok:!1,fixed:!0,clock:!0,cancelValue:"先不登录",button:[{value:"去登录",autofocus:!0,callback:function(){window.location.href=l+"/login.html"}}]}),$(".golden_ul li").click(function(){e.Diy(o)})}$(".golden_ul li").hover(function(){var i=$(this),n=i.position().left+$(this).width()-50,t=i.position().top-50;$("#hammer").css({left:n,top:t})}).on("mouseover",function(){var i=$(this),n=272;i.hasClass("center")&&(n=305),n-=25,i.animate({top:n},100,function(){i.animate({top:n+25},100)})})},s.fn.tips={},s.fn.tips.ok=function(i){e.Diy({id:"hit-ok",title:"",padding:50,content:'<p class="successed">恭喜你获得<b style="color:#df0007;">'+i.money+'</b>元现金<br/><a class="go" href="'+l+"/act/"+i.orderId+'/award.html" target="_blank">立即去领</a><p>',ok:!1,width:250,fixed:!0,clock:!0,cancel:!1,clock:!0,onclose:function(){i.notfrist=!0,s.init(i)}}),$(".go").one("click",function(){var i=o.obj.dialog.get("hit-ok");i&&i.close().remove()})};var a=["姿势不对，要继续加油呦！","再换个姿势试试！","哈个气，再来一次！","你要是再使点劲就砸中了！","下次再来吧，今天运气不太好！"],r=a.length-1;s.fn.tips.no=function(i){var n=Math.ceil(Math.random()*r);e.Diy({title:"",padding:50,content:'<p class="errored">'+a[n]+"</p>",width:250,fixed:!0,cancel:!1,onclose:function(){i.notfrist=!0,s.init(i)},clock:!0})},s.fn.page={},s.fn.page.init=function(){},t.exports=s});